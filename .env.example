# DockerIDE Environment Configuration

# ============================================
# LTI Service Configuration
# ============================================

# Database Configuration
DB_HOST=mysql
DB_NAME=dockeride_lti
DB_USER=dockeride
DB_PASS=change_this_password
DB_DIALECT=mysql
DB_PORT=3306

# Security Keys (CHANGE THESE IN PRODUCTION!)
JWT_SECRET=your-jwt-secret-minimum-32-characters-long-change-this
SESSION_SECRET=your-session-secret-minimum-32-characters-long-change-this
ENCRYPTION_KEY=your-encryption-key-minimum-32-chars-long-change-this
INTERNAL_API_KEY=your-internal-api-key-change-this

# LTI 1.1 Configuration (for legacy LMS)
LTI_CONSUMER_KEY=dockeride-key
LTI_CONSUMER_SECRET=dockeride-secret-change-this

# LTI 1.3 Configuration (for modern LMS)
LTI_KEY=DOCKERIDE_LTI_KEY
LTI_URL=https://dockeride.example.com
PLATFORM_URL=https://your-lms.example.com
PLATFORM_NAME=Your LMS Name
PLATFORM_CLIENT_ID=dockeride-client
PLATFORM_AUTH_ENDPOINT=https://your-lms.example.com/api/lti/authorize_redirect
PLATFORM_TOKEN_ENDPOINT=https://your-lms.example.com/login/oauth2/token
PLATFORM_KEY_ENDPOINT=https://your-lms.example.com/api/lti/security/jwks

# Service URLs
WORKSPACE_MANAGER_URL=http://workspace-manager:4000
ALLOWED_ORIGINS=https://dockeride.example.com,https://your-lms.example.com

# ============================================
# Workspace Manager Configuration
# ============================================

# Container Orchestration
USE_KUBERNETES=false
DOCKER_SOCKET=/var/run/docker.sock
DOCKER_NETWORK=dockeride-network

# Kubernetes Configuration (if USE_KUBERNETES=true)
K8S_NAMESPACE=dockeride
K8S_MEMORY_REQUEST=1Gi
K8S_MEMORY_LIMIT=2Gi
K8S_CPU_REQUEST=500m
K8S_CPU_LIMIT=1000m
K8S_VOLUME_SIZE=5Gi
K8S_POD_TIMEOUT=14400

# Docker Configuration (if USE_KUBERNETES=false)
CONTAINER_MEMORY=2147483648
CONTAINER_CPU_SHARES=1024

# GitHub Integration
GITHUB_TOKEN=your_github_personal_access_token_here

# Workspace Settings
BASE_URL=https://dockeride.example.com
ENABLE_PERSISTENCE=false

# ============================================
# General Configuration
# ============================================

NODE_ENV=production
PORT=3000
LOG_LEVEL=info

# Redis Configuration (for session storage)
REDIS_HOST=redis
REDIS_PORT=6379

# ============================================
# Language Support
# ============================================
# Supported languages: javascript, python, cpp, java, sql
# The system will automatically select the appropriate Docker image
# based on the 'language' parameter from LTI launch

# ============================================
# VS Code Server Configuration
# ============================================
# These are set per-student workspace, examples:
# STUDENT_ID=student123
# COURSE_ID=CS101
# ASSIGNMENT_ID=assignment1
# GITHUB_REPO=https://github.com/username/repo
# VSCODE_PASSWORD=auto-generated
# VSCODE_EXTENSIONS=ms-python.python,ms-vscode.cpptools